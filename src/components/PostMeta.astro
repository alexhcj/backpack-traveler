---
interface Props {
    author: string;
    pubDate: Date;
    socials: ISocial[];
}
const { author, socials, pubDate } = Astro.props;
import { Image } from "astro:assets";

import FormattedDate from "./FormattedDate.astro";
import type { ISocial, IImageMetadata } from "../types/social";

const socialSvgs: IImageMetadata = {
    facebook: "/svg/facebook-circle.svg",
    pinterest: "/svg/pinterest-circle.svg",
    twitter: "/svg/twitter-circle.svg",
};
---

<div class="meta">
    <a class="author" href="/">{author}</a>
    <ul class="socials">
        {
            socials && socials.map(({ social, url }) => (
                <li class="social">
                    <a href={url}>
                        <Image
                            src={socialSvgs[social]}
                            alt=`${social} social`
                            width="24"
                            height="24"
                        />
                    </a>
                </li>
            ))
        }
    </ul>
    <FormattedDate class="date" date={pubDate} />
</div>

<style>
    .meta {
        display: flex;
        justify-content: space-between;
        margin-top: 43px;
        padding: 19px 0 14px;
        border-top: 1px solid var(--color-border-2);
        border-bottom: 1px solid var(--color-border-2);
    }
    .author {
        text-transform: uppercase;
        font-size: 10px;
        letter-spacing: var(--letter-spacing-default);
        color: var(--color-grey-2);

        &:hover {
            color: var(--color-black);
        }
    }
    .socials {
        display: flex;
        gap: 18px;
    }
    .date {
        font-size: 15px;
        font-family: var(--family-lora);
        font-style: italic;
        color: var(--color-grey-2);
    }
</style>
